!function(){"use strict";function LoginCtrl($scope,$state,AuthenticationService){!function(){AuthenticationService.ClearCredentials()}(),$scope.login=function(){$scope.dataLoading=!0,console.log($scope.form.email.$invalid),1!=$scope.form.email.$error.required&&1!=$scope.form.password.$error.required&&1!=$scope.form.email.$invalid?AuthenticationService.Login($scope.vm.email,$scope.vm.password,function(response){response&&response.data&&response.data.success&&response.data.uid&&response.data.token?(AuthenticationService.SetCredentials(response.data.uid,response.data.company_id,response.data.first_name,response.data.last_name,response.data.token,response.data.group),$state.go("dashboard.home")):($scope.dataLoading=!1,document.getElementById("error").innerHTML="Erreur de saisie d'Email ou de Mot de passe.")}):$scope.dataLoading=!1,1==$scope.form.email.$invalid&&1!=$scope.form.email.$error.required&&(document.getElementById("mailerror").innerHTML=" ",document.getElementById("error").innerHTML="Veuillez entrer une adresse Email valide",document.getElementById("mail").className+=" has-error has-feedback",document.getElementById("mail").firstChild.innerHTML='<span class="glyphicon glyphicon-ok form-control-feedback"></span>'),1==$scope.form.password.$error.required&&1!=$scope.form.email.$error.required&&(document.getElementById("password").className+=" has-error has-feedback")}}angular.module("sbAdminApp").controller("LoginCtrl",LoginCtrl),LoginCtrl.$inject=["$scope","$state","AuthenticationService"]}();